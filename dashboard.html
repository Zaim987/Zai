<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QuantumX Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getFirestore, collection, getDocs, doc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";const firebaseConfig = {
  apiKey: "AIzaSyBkOxyNwI6txCyhW-jOn2dOgl10L3SkX9s",
  authDomain: "quantumx-fb50b.firebaseapp.com",
  projectId: "quantumx-fb50b",
  storageBucket: "quantumx-fb50b.appspot.com",
  messagingSenderId: "599786254848",
  appId: "1:599786254848:web:00736587b3381d3bc2c9ae"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const auth = getAuth(app);

// Cek login
onAuthStateChanged(auth, (user) => {
  if (!user) {
    window.location.href = "login.html";
  }
});

async function loadUsers() {
  const querySnapshot = await getDocs(collection(db, "users"));
  const list = document.getElementById("user-list");
  let delay = 8;
  querySnapshot.forEach((docSnap, index) => {
    const data = docSnap.data();
    const div = document.createElement("div");
    div.className = "user-item";
    div.textContent = `${data.displayName || 'No Name'} (${data.email || 'No Email'})`;
    div.style.animationDelay = `${delay + index * 0.3}s`;
    list.appendChild(div);
  });
}

document.addEventListener("DOMContentLoaded", () => {
  setTimeout(() => {
    document.getElementById('splash-screen').style.display = 'none';
    document.getElementById('main-content').classList.remove('hidden');
    loadUsers();
  }, 3500);

  const logoutBtn = document.querySelector(".menu-btn.logout");
  logoutBtn?.addEventListener("click", () => {
    onAuthStateChanged(auth, async (user) => {
      if (user) {
        try {
          const userRef = doc(db, "users", user.uid);
          await updateDoc(userRef, { online: false });
          await signOut(auth);
          window.location.href = "login.html";
        } catch (err) {
          console.error("Logout error:", err);
        }
      }
    });
  });
});

  </script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%; height: 100%; background-color: #020202; color: white;
      font-family: 'Orbitron', sans-serif; overflow: hidden;
    }
    .hidden { display: none; }
    #splash-screen {
      position: fixed; inset: 0; background-color: black;
      display: flex; align-items: center; justify-content: center;
      flex-direction: column; z-index: 999;
      animation: splashIntro 3s ease-in-out forwards;
    }
    .splash-logo {
      font-size: 2.5rem; color: white; opacity: 0;
      text-shadow: 0 0 15px cyan;
      animation: splashGlow 3s ease-in-out forwards;
    }
    @keyframes splashGlow {
      0% { opacity: 0; transform: scale(0.8); text-shadow: none; }
      50% { opacity: 1; transform: scale(1.05); text-shadow: 0 0 5px cyan; }
      100% { opacity: 1; transform: scale(1); text-shadow: 0 0 25px cyan; }
    }
    @keyframes splashIntro {
      0% { opacity: 1; } 80% { opacity: 1; } 100% { opacity: 0; visibility: hidden; }
    }
    .top-bar {
      display: flex; align-items: center; justify-content: space-between;
      padding: 1rem; background-color: black; gap: 1rem;
      overflow: hidden; opacity: 0;
      animation: fadeInText 1s ease-out 3.5s forwards;
    }
    .logo {
      font-size: 1.5rem; font-weight: bold;
      text-shadow: 0 0 10px cyan; white-space: nowrap;
      pointer-events: none;
    }
    .scroll-wrapper { overflow-x: auto; flex-grow: 1; }
    .scroll-wrapper::-webkit-scrollbar { display: none; }
    .menu-bar {
      display: flex; gap: 1rem; width: max-content;
    }
    .menu-btn {
      background: none; color: white; border: none; font-size: 1rem;
      cursor: pointer; opacity: 0; transform: translateY(-10px);
      animation: fadeInUp 0.6s ease-out forwards;
    }
    .menu-btn:nth-child(1) { animation-delay: 3.8s; }
    .menu-btn:nth-child(2) { animation-delay: 4s; }
    .menu-btn:nth-child(3) { animation-delay: 4.2s; }
    .menu-btn:nth-child(4) { animation-delay: 4.4s; }
    .menu-btn:nth-child(5) { animation-delay: 4.6s; }
    @keyframes fadeInUp {
      to { opacity: 1; transform: translateY(0); }
    }
    .dashboard {
      padding: 2rem; text-align: center;
      opacity: 0; animation: demoFade 0.5s ease-in-out 5s forwards;
    }
    .welcome-text {
      font-size: 2rem; margin-bottom: 1rem;
      opacity: 0; transform: translateY(20px) scale(0.95);
      animation: welcomeAnim 1.2s ease-out 5.5s forwards;
      text-shadow: 0 0 10px cyan;
    }
    .desc-text {
      font-size: 1rem; color: #ccc;
      opacity: 0; transform: translateY(20px);
      animation: descAnim 1s ease-out 6.5s forwards;
    }
    #user-list {
      margin-top: 1rem;
      text-align: left;
      max-width: 600px;
      margin-inline: auto;
    }
    .user-item {
      opacity: 0;
      transform: translateX(-10px);
      animation: fadeLine 0.6s ease-out forwards;
      padding: 4px 0;
    }
    @keyframes welcomeAnim {
      to { opacity: 1; transform: translateY(0) scale(1); }
    }
    @keyframes descAnim {
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeLine {
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes demoFade {
      to { opacity: 1; }
    }
    @keyframes fadeInText {
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <div id="splash-screen">
    <h1 class="splash-logo">QuantumX</h1>
  </div>
  <div id="main-content" class="hidden">
    <header class="top-bar">
      <div class="logo">QuantumX</div>
      <div class="scroll-wrapper">
        <nav class="menu-bar">
          <button class="menu-btn">Dashboard</button>
          <button class="menu-btn">Statistik</button>
          <button class="menu-btn">Pengguna</button>
          <button class="menu-btn">Pengaturan</button>
          <button class="menu-btn logout">Logout</button>
        </nav>
      </div>
    </header>
    <main class="dashboard">
      <h1 class="welcome-text">Selamat Datang, Zaim!</h1>
      <p class="desc-text">Iki tampilan utama dashboardmu sing wis digodok karo efek animasi alus ðŸ˜Ž</p>
      <div id="user-list"></div>
    </main>
  </div>
</body>
</html>